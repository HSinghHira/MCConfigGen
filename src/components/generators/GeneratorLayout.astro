---
import { Button } from '@/components/ui/button';
import { ExternalLink, BookOpen, Download } from 'lucide-react';

interface Props {
  title: string;
  pluginName: string;
  pluginVersion?: string;
  description: string;
  docsUrl?: string;
  spigotUrl?: string;
  layout?: 'split' | 'full';
}

const { title, pluginName, pluginVersion, description, docsUrl, spigotUrl, layout = 'split' } = Astro.props;
---

<div class="mx-auto p-4 md:p-6 lg:p-8 max-w-[1400px] container">
  <!-- Header Section -->
  <header class="bg-card shadow-sm mb-6 p-6 border border-border rounded-xl">
    <div class="flex md:flex-row flex-col justify-between items-start gap-4 mb-4">
      <div class="space-y-2">
        <h1 class="font-bold text-3xl tracking-tight">{title}</h1>
        <p class="max-w-2xl text-muted-foreground">{description}</p>
      </div>
      
      <div class="flex items-center gap-2">
        <span class="inline-flex items-center bg-primary px-2.5 py-0.5 rounded-md font-medium text-primary-foreground text-sm">
          {pluginName}
        </span>
        {pluginVersion && (
          <span class="inline-flex items-center bg-secondary px-2.5 py-0.5 rounded-md font-medium text-secondary-foreground text-sm">
            v{pluginVersion}
          </span>
        )}
      </div>
    </div>
    
    <div class="flex flex-wrap gap-3">
      {docsUrl && (
        <a href={docsUrl} target="_blank" rel="noopener noreferrer">
          <Button variant="outline" size="sm" className="gap-2">
            <BookOpen className="w-4 h-4" />
            Documentation
          </Button>
        </a>
      )}
      
      {spigotUrl && (
        <a href={spigotUrl} target="_blank" rel="noopener noreferrer">
          <Button variant="default" size="sm" className="gap-2 bg-orange-600 hover:bg-orange-700">
            <Download className="w-4 h-4" />
            Get Plugin
          </Button>
        </a>
      )}

      <slot name="actions" />
    </div>
  </header>

  <!-- Main Generator Content -->
  <div class={`grid gap-6 ${layout === 'split' ? 'lg:grid-cols-2' : ''}`}>
    <!-- Left Panel: Configuration -->
    <div class="flex flex-col gap-4">
      <slot name="configuration" />
    </div>
    
    {layout === 'split' && (
      <!-- Right Panel: Preview & Actions -->
      <div class="flex flex-col gap-4">
        <slot name="preview" />
      </div>
    )}
  </div>
  
</div>
